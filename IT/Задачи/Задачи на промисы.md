[[Promises]]
## Реализуйте полифилл для Promise.all
```js
function myPromiseAll(taskList: Array<Promise<unknown>>): Promise<Array<unknown>> {  
  const results: Array<unknown> = [];  
  let competedPromisesQuantity = 0;  
  
  return new Promise<Array<unknown>>((resolve, reject) => {  
    taskList.forEach((promise: Promise<unknown>, index: number) => {  
      promise.then((value: unknown) => {  
        results[index] = value;  
        competedPromisesQuantity++;  
  
        if (competedPromisesQuantity === taskList.length) {  
          resolve(results);  
        }      
      })        
        .catch(error => {  
          reject(error);  
        });    
    });  
  });
}

// tests
function task(time: number) {  
  return new Promise((resolve) => {  
    setTimeout(resolve, time, time);  
  })}  
  
function rejectedTask() {  
  return new Promise((resolve, reject) => {  
    setTimeout(reject, 3000, 'error');  
  })}

const taskList1 = [task(1000), task(5000), task(3000)];  
const taskList2 = [task(1000), task(5000), rejectedTask()];  

myPromiseAll(taskList1).then(result => console.log(result)); // [1000, 5000, 3000]
Promise.all(taskList1).then(result => console.log(result)); // [1000, 5000, 3000]
  
myPromiseAll(taskList2).then(result => console.log(result)).catch(err => console.log(err));  // error
Promise.all(taskList2).then(result => console.log(result)).catch(err => console.log(err)); // error
```

## Реализуйте полифилл для Promise.allSettled
### Первый вариант
```js
function myPromiseAllSettled(taskList: Array<Promise<unknown>>): Promise<Array<unknown>> {  
  const result: Array<unknown> = [];  
  let finishedPromisesQuantity = 0;  
  
  return new Promise<Array<unknown>>(resolve => {  
    taskList.forEach((promise: Promise<unknown>, index: number) => {  
      promise  
        .then((value: unknown) => {  
          result[index] = { status: 'fullfilled', value: value };  
        })        
        .catch(error => {  
          result[index] = { status: 'rejected', value: error };  
        })        
        .finally(() => {  
          finishedPromisesQuantity++;  
          if (finishedPromisesQuantity === taskList.length) {  
            resolve(result);  
          }        
        });   
      }); 
  });
}

// tests
const taskList1 = [task(1000), task(5000), task(3000)];  
const taskList2 = [task(1000), task(5000), rejectedTask()]; 

// [{status: fullfilled, value: 1000}, ...]
myPromiseAllSettled(taskList1).then(result => console.log(result));  
Promise.allSettled(taskList1).then(result => console.log(result));  
  
myPromiseAllSettled(taskList2).then(result => console.log(result)).catch(err => console.log(err));  
Promise.allSettled(taskList2).then(result => console.log(result)).catch(err => console.log(err));
```
### Второй вариант
```js
function myPromiseAllSettled(taskList: Array<Promise<unknown>>): Promise<Array<unknown>> {  
  let finishedPromises = taskList.map(promise => {  
    return promise  
      .then(value => {  
        return { status: 'fullfilled', value: value };  
      })      
      .catch(error => {  
        return { status: 'rejected', error: error }  
      });  
  });  
  return Promise.all(finishedPromises);  
}
```
## Реализуйте полифилл для Promise.any
```js
function myPromiseAny(taskList: Array<Promise<unknown>>): Promise<unknown | AggregateError>  {  
  let erroredPromisesQuantity = 0;  
  return new Promise((resolve, reject) => {  
    taskList.forEach(promise => {  
      promise  
        .then(value => {  
          resolve(value);  
        })        
        .catch(() => {  
          erroredPromisesQuantity++;  
          if (erroredPromisesQuantity === taskList.length) {  
            reject('AggregateError: All promises were rejected');  
          }        
        })    
	});  
  });
}

// tests
const taskList1 = [task(1000), task(5000), rejectedTask()];  
const taskList2 = [rejectedTask(), rejectedTask(), rejectedTask()];  
  
myPromiseAny(taskList1).then(result => console.log(result));  // 1000
Promise.any(taskList1).then(result => console.log(result));  // 1000
  
myPromiseAny(taskList2).then(result => console.log(result)).catch(err => console.log(err)); // AggregateError: All promises were rejected
Promise.any(taskList2).then(result => console.log(result)).catch(err => console.log(err)); // AggregateError: All promises were rejected
```